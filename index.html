<!DOCTYPE html>
<html lang="en">
<head>
    <title>Abyss walker</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="index.css">
</head>
<body>
    <!-- TODO:remove display none -->
    <div class="start-menu" id="start-menu" style="display:none;">
        <h1 class="start-menu-title">Abyss walker</h1>
        <button class="start-menu-button" id="start">Start</button>
        <button class="start-menu-button" id="story">Story</button>
        <button class="start-menu-button" id="how-to-play">How to play</button>
        <button class="start-menu-button" id="about">About</button>
    </div>
    <div class="start-menu" id="blank"></div>

    <div class="progress-bar-container" style="display: flex;">
        <label id="progress-label" for="progress-bar">Loading...</label>
        <progress id="progress-bar" value="0" max="100"></progress>
    </div>
    <div id="doorPrompt" style="display: none; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); color: white; font-size: 24px;">
        Press 'E' to open the door
    </div>

    <!-- User health bar -->
	<div id="user-health-bar-container">
		<div id="user-health-bar"></div>
	</div>

    <div id="gameOverScreen" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.8); color: white; text-align: center; padding-top: 20%;">
        <h1>Stay in the light</h1>
        <button id="restartButton" style="padding: 10px 20px; font-size: 20px;">Restart</button>
      </div>
     <div id="menu">
        <button class="menu-button" id="restart-button">Restart</button>
        <button class="menu-button" id="exit-button">Exit</button>
    </div>
    <script>
        let audio;
        function prepareBackgroundAudio() {
          audio = new Audio('Home/horror-sound-effect.mp3');
          audio.volume = 0.5; 
          audio.loop = false; 
        }
        function playBackgroundAudio() {
          if (audio) {
            audio.play().catch(error => {
              console.error("Error playing audio: ", error);
            });
          }
        }
    
        window.onload = prepareBackgroundAudio;
        document.getElementById('start').addEventListener('click', playBackgroundAudio);
      </script>
    <script type="module" src="main.js"></script>
</body>
</html>
