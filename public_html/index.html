<!DOCTYPE html>
<html lang="en">

<head>
  <title>Abyss walker</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="index.css">
</head>

<body>
  <!-- TODO:remove display none -->
  <div class="start-menu" id="start-menu">
        <h1 class="start-menu-title">Abyss walker</h1>
        <button class="start-menu-button" id="start">Start</button>
        <button class="start-menu-button" id="story">Story</button>
        <button class="start-menu-button" id="how-to-play">How to play</button>
        <button class="start-menu-button" id="endless">Endless</button>
    </div>
  <div class="start-menu" id="blank"></div>


  <div class="rules-board" id="rules-board" style="display: none;">
    <h1 class="rules-title">Game Rules</h1>
    <ul class="rules-list">
        <li>You need to be tested before you can face the BOSS!</li>
        <li>Always stay in the light!</li>
        <li>When boulders start flying, the light will follow you. Just avoid the boulders!</li>
        <li>At the last giant platform, the light will try to escape, follow it!</li>
        <li>Be fast! and Good Luck! (this wont help)</li>
        <button class="start-level-button">Start the test!</button>
    </ul>
</div>


  <div class="progress-bar-container" style="display: none;">
    <label id="progress-label" for="progress-bar">Loading...</label>
    <progress id="progress-bar" value="0" max="100"></progress>
  </div>


  <div id="doorPrompt"
    style="display: none; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); color: white; font-size: 24px;">
    Press 'E' to open the door
  </div>

  <!-- User health bar -->
  <div id="user-health-bar-container" style="display: none;">
    <div id="user-health-bar"></div>
  </div>


  <!-- Boss health bar -->
  <div id="boss-health-bar-container" style="display: none;">
    <div id="boss-name">Boss Name</div>
    <div id="boss-health-bar"></div>
  </div>


  <div id="gameOverScreen"
    style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.8); color: white; text-align: center; padding-top: 20%;">
    <h1 id="gameOverHeader">Stay in the light</h1>
    <button id="restartButton" style="padding: 10px 20px; font-size: 20px;">Restart</button>
  </div>


  <div id="menu">
    <button class="menu-button" id="controls-button">Controls</button>
    <button class="menu-button" id="restart-button">Restart</button>
    <button class="menu-button" id="exit-button">Exit</button>
  </div>


  <div class="menu" id="controls-list">
    <button class="menu-button" id="close-controls-button">Close menu</button>
    <ul class="controls-list">
      <li class="controls-item">
        <span>Move forward</span>
        <span class="key">W</span>
      </li>
      <li class="controls-item">
        <span>Move backwards</span>
        <span class="key">S</span>
      </li>
      <li class="controls-item">
        <span>Move left</span>
        <span class="key">A</span>
      </li>
      <li class="controls-item">
        <span>Move right</span>
        <span class="key">D</span>
      </li>
      <li class="controls-item">
        <span>Switch cameras</span>
        <span class="key">R</span>
      </li>
      <li class="controls-item">
        <span>Jump</span>
        <span class="key">Space</span>
      </li>
      <li class="controls-item">
        <span>Shoot</span>
        <span class="key">Left mouse</span>
      </li>
    </ul>


  </div>


  <script type="importmap"> { "imports": { 
      "three": "https://cdn.jsdelivr.net/npm/three@0.169.0/build/three.module.js", 
        "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.169.0/examples/jsm/" } } </script>


  <!-- Import Cannon-ES from CDN -->
  <script type="module">
    import * as CANNON from 'https://cdn.jsdelivr.net/npm/cannon-es@0.20.0/dist/cannon-es.js';
    window.CANNON = CANNON; // Makes Cannon-ES globally accessible

    import * as THREE from "https://cdn.jsdelivr.net/npm/three@0.169.0/build/three.module.js";

    window.THREE = THREE;

  </script>

  <script type="module" src="main.js"></script>
</body>

</html>